{%extends 'admin/base_site.html'%}
{%load i18n%}
{%load crispy_forms_tags%}
{%block extrastyle%}

<style>
  .content-panel {
    padding-left: 10px;
    padding-right: 10px;
    min-height: 600px;
  }
</style>

{%endblock%}
{%block drivers%}active{%endblock%}
{%block drivers_submenu%}active{%endblock%}
{%block page_title%}
<h3>{{subtitle}}</h3>
{%endblock%}
{%block page_links%}
<li class="breadcrumb-item active" aria-current="page"><a href="{%url 'admin:get_all_owners'%}">Owner List</a></li>
{%endblock%}
{%block content%}

<div class="card">
  <div class="card-header">
    {% if perms.driver.add_owner %}
    <a type="button" href="{%url 'admin:create_owner'%}" class="btn btn-outline-primary"><i class="fa fa-plus"></i>
      {%translate 'Add New Owner'%}</a>
    {%endif%}
  </div>
  <hr>
  <div class="card-body">
    <table class="table table-striped" id="hidden-table-info">
      <thead>
        <tr>
          <th>{%translate 'No'%}</th>
          <th>{%translate 'Full Name'%}</th>
          <th class="hidden-phone">{%translate 'Username'%}</th>
          <th class="hidden-phone">{%translate 'Phone Number'%}</th>
          <th class="hidden-phone">{%translate 'Email'%}</th>
          <th>{%translate 'Action'%}</th>
        </tr>
      </thead>
      <tbody>
        {%for object in drives_data%}
        <tr class="gradeA">
          <td>{{forloop.counter}}</td>
          <td>{{object.account}}</td>
          <td class="center hidden-phone">{{object.account.username}}</td>
          <td class="center hidden-phone">{{object.account.phone_number}}</td>
          <td class="center hidden-phone">{{object.account.email}}</td>
          <td>
            {% if perms.driver.change_owner %}
              {% if object.is_active %}
                  <a href="{%url 'admin:activate_deactivate_owner' driver_id=object.id%}" data-driver-id="{{ object.id }}"
                          title="Deactivate Account" 
                          class="activate-driver btn btn-danger btn-sm">
                          <i class="bi bi-x-circle"></i>
                  </a>
              {% else %}
              <a href="{%url 'admin:activate_deactivate_owner' driver_id=object.id%}" data-driver-id="{{ object.id }}" title="Activate Account"
                  class="activate-driver btn btn-success btn-sm">
                  <i class="bi bi-check-circle"></i>
              </a>
              {%endif%}
             <a href="{%url 'admin:update_owner' driver_id=object.id%}" title="Update/View Owner Information"
                class="btn btn-primary btn-sm">
                <i class="bi bi-pencil-square"></i>
              </a>
              </a>
            {%endif%}

            {% if perms.driver.delete_owner %}
            <a href="{% url 'admin:recycle_owner' driver_id=object.id %}" title="Delete Owner"
  class="btn btn-danger btn-sm delete-driver" data-driver-id="{{ object.id }}">
  <i class="bi bi-archive"></i> 
</a>            {%endif%}

          </td>
        </tr>
        {%endfor%}
      </tbody>
    </table>
  </div>
</div>
{%endblock%}
{%block scripts%}
{%endblock%}